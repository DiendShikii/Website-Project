<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kalkulator Akar</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f0f0f, #1c1c1c, #2a2a2a);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: #fff;
    }

    .container {
      background: rgba(30, 30, 30, 0.95);
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
      text-align: center;
      width: 100%;
      max-width: 400px;
      animation: fadeIn 0.6s ease-in-out;
    }

    h1 {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 20px;
      letter-spacing: 1px;
    }

    input {
      margin: 12px 0;
      padding: 12px;
      width: 100%;
      border: none;
      border-radius: 8px;
      outline: none;
      background: #222;
      color: #fff;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    input:focus {
      background: #2c2c2c;
    }

    button {
      margin-top: 15px;
      padding: 12px;
      width: 100%;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    button:hover {
      transform: translateY(-2px);
    }

    h2 {
      margin-top: 20px;
      font-size: 1.2rem;
      font-weight: normal;
      min-height: 30px;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    select, .color-picker {
      margin-top: 15px;
      padding: 10px;
      width: 100%;
      border-radius: 8px;
      background: #222;
      color: white;
      border: none;
      font-size: 1rem;
      cursor: pointer;
    }

    .color-picker {
      height: 45px;
      padding: 5px;
      background: none;
      cursor: pointer;
    }

    /* Animasi */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    /* === THEME COLORS === */
    .theme-red h1 { color: #ff4d4d; text-shadow: 0 0 10px rgba(255,77,77,0.7);}
    .theme-red input:focus { box-shadow: 0 0 10px rgba(255,77,77,0.6);}
    .theme-red button { background: linear-gradient(135deg, #ff4d4d, #ff1a1a); color:white;}
    .theme-red button:hover { box-shadow: 0 8px 20px rgba(255,0,0,0.5);}
    .theme-red h2 { color: #ffb3b3;}

    .theme-blue h1 { color: #4da6ff; text-shadow: 0 0 10px rgba(77,166,255,0.7);}
    .theme-blue input:focus { box-shadow: 0 0 10px rgba(77,166,255,0.6);}
    .theme-blue button { background: linear-gradient(135deg, #4da6ff, #1a75ff); color:white;}
    .theme-blue button:hover { box-shadow: 0 8px 20px rgba(0,119,255,0.5);}
    .theme-blue h2 { color: #b3d9ff;}

    .theme-green h1 { color: #33cc99; text-shadow: 0 0 10px rgba(51,204,153,0.7);}
    .theme-green input:focus { box-shadow: 0 0 10px rgba(51,204,153,0.6);}
    .theme-green button { background: linear-gradient(135deg, #33cc99, #009966); color:white;}
    .theme-green button:hover { box-shadow: 0 8px 20px rgba(0,255,128,0.4);}
    .theme-green h2 { color: #99ffcc;}

    .theme-purple h1 { color: #b366ff; text-shadow: 0 0 10px rgba(179,102,255,0.7);}
    .theme-purple input:focus { box-shadow: 0 0 10px rgba(179,102,255,0.6);}
    .theme-purple button { background: linear-gradient(135deg, #b366ff, #8000ff); color:white;}
    .theme-purple button:hover { box-shadow: 0 8px 20px rgba(128,0,255,0.5);}
    .theme-purple h2 { color: #dab3ff;}

    /* === CUSTOM THEME (pakai var) === */
    .theme-custom h1 { color: var(--main-color); text-shadow: 0 0 10px var(--main-glow);}
    .theme-custom input:focus { box-shadow: 0 0 10px var(--main-glow);}
    .theme-custom button { background: linear-gradient(135deg, var(--main-color), var(--main-dark)); color:white;}
    .theme-custom button:hover { box-shadow: 0 8px 20px var(--main-glow);}
    .theme-custom h2 { color: var(--main-soft);}
  </style>
</head>
<body class="theme-red">
  <div class="container">
    <h1>Kalkulator Akar</h1>
    <input type="number" id="number" placeholder="Masukkan angka" step="any">
    <input type="number" id="root" placeholder="Masukkan akar pangkat (misal: 2, 3, 4...)" min="1">
    <button id="calculate">Hitung</button>
    <h2 id="result"></h2>

    <select id="themeSelector" title="Pilih tema warna">
      <option value="theme-red">Merah 🔴</option>
      <option value="theme-blue">Biru 🔵</option>
      <option value="theme-green">Hijau 🟢</option>
      <option value="theme-purple">Ungu 🟣</option>
      <option value="theme-custom">Custom 🎨</option>
    </select>

    <label for="colorPicker" id="colorLabel" class="color-label" hidden>Pilih warna custom</label>
    <input type="color" id="colorPicker" class="color-picker" value="#ff4d4d" hidden />
  </div>

  <script>
    const resultEl = document.getElementById('result');
    const body = document.body;
    const themeSelector = document.getElementById('themeSelector');
    const colorPicker = document.getElementById('colorPicker');

    function showResult(text) {
      resultEl.style.opacity = "0"; 
      resultEl.innerText = "";
      setTimeout(() => {
        resultEl.style.opacity = "1";
        let i = 0;
        function typing() {
          if (i < text.length) {
            resultEl.innerText += text.charAt(i);
            i++;
            setTimeout(typing, 40);
          }
        }
        typing();
      }, 200);
    }

    document.getElementById('calculate').addEventListener('click', function() {
      const number = parseFloat(document.getElementById('number').value);
      const root = parseFloat(document.getElementById('root').value);
      
      if (isNaN(number) || isNaN(root) || root <= 0 || number < 0) {
        showResult('❌ Input tidak valid!');
      } else {
        const result = Math.pow(number, 1 / root);
        showResult(`✔️ Hasil: ${result}`);
      }
    });

    themeSelector.addEventListener('change', function() {
      body.className = this.value;
      if (this.value === "theme-custom") {
        colorPicker.style.display = "block";
      } else {
        colorPicker.style.display = "none";
      }
    });

    colorPicker.addEventListener('input', function() {
      const main = this.value;
      body.style.setProperty("--main-color", main);
      body.style.setProperty("--main-dark", shadeColor(main, -40));
      body.style.setProperty("--main-soft", shadeColor(main, 40));
      body.style.setProperty("--main-glow", hexToRgba(main, 0.6));
    });

    // Helper: lebih gelap/terang
    function shadeColor(color, percent) {
      let R = parseInt(color.substring(1,3),16);
      let G = parseInt(color.substring(3,5),16);
      let B = parseInt(color.substring(5,7),16);

      R = parseInt(R * (100 + percent) / 100);
      G = parseInt(G * (100 + percent) / 100);
      B = parseInt(B * (100 + percent) / 100);

      R = (R<255)?R:255;  
      G = (G<255)?G:255;  
      B = (B<255)?B:255;  

      const RR = (R.toString(16).length==1)?"0"+R.toString(16):R.toString(16);
      const GG = (G.toString(16).length==1)?"0"+G.toString(16):G.toString(16);
      const BB = (B.toString(16).length==1)?"0"+B.toString(16):B.toString(16);

      return "#"+RR+GG+BB;
    }

    // Helper: convert hex ke rgba
    function hexToRgba(hex, alpha) {
      let r = parseInt(hex.slice(1, 3), 16),
          g = parseInt(hex.slice(3, 5), 16),
          b = parseInt(hex.slice(5, 7), 16);
      return `rgba(${r}, ${g}, ${b}, ${alpha})`;
    }
  </script>
</body>
</html>
